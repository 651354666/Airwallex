(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{344:function(e,t,a){"use strict";a.r(t);var n=a(1),o=a.n(n),r=a(324),l=a.n(r);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var d=function(e){function t(e){var a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),f(m(a=function(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?m(e):t}(this,c(t).call(this,e))),"fieldChange",function(e){a.setState(f({},e.target.name,e.target.value))}),f(m(a),"submit",function(){console.log("submit");var e=!1,t=!1,n=!1;a.validations.fullName.test(a.state.fullName)||(e=!0),a.validations.email.test(a.state.email)||(t=!0),a.validations.email.test(a.state.cEmail)&&a.state.email==a.state.cEmail||(n=!0),e||t||n||a.sendRequest(),a.setState({fullNameError:e,emailError:t,cEmailError:n})}),f(m(a),"sendRequest",function(){var e=m(a);a.setState({sending:!0,error:!1}),l.a.post("https://l94wc2001h.execute-api.ap-southeast-2.amazonaws.com/prod/fake-auth",{name:a.state.fullName,email:a.state.email}).then(function(t){e.setState({sending:!1,sent:!0,error:!1})}).catch(function(t){console.log(t),e.setState({sending:!1,error:t.response.data.errorMessage||"Somethinkg went wrong, please try again later"})})}),f(m(a),"clickCloseModal",function(){a.setState(Object.assign({},a.defaultState)),a.props.closeModal()}),a.defaultState={fullName:"",email:"",cEmail:"",fullNameError:!1,emailError:!1,cEmailError:!1,sending:!1,error:null,sent:!1},a.validations={fullName:/.+/,email:/^[A-Za-z0-9]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/},a.state=Object.assign({},a.defaultState),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(t,o.a.Component),function(e,t,a){t&&s(e.prototype,t)}(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"modal"},o.a.createElement("div",{className:"modal__content"},o.a.createElement("div",{className:"modal__title"},"Request an invite"),o.a.createElement("div",{className:"modal__dividor"}),this.state.sent?o.a.createElement("div",{className:"modal__finish"},o.a.createElement("div",{className:"modal__subtitle"},"You will be one of the first to experience Broccoli & Co. when we launch."),o.a.createElement("div",{className:"modal__submit",onClick:this.clickCloseModal},"OK")):o.a.createElement("div",{className:"modal__form"},o.a.createElement("input",{className:this.state.fullNameError?"modal__input modal__input--error":"modal__input",type:"text",name:"fullName",value:this.state.fullName,placeholder:"Full name",onChange:this.fieldChange}),o.a.createElement("input",{className:this.state.emailError?"modal__input modal__input--error":"modal__input",type:"text",name:"email",value:this.state.email,placeholder:"Email",onChange:this.fieldChange}),o.a.createElement("input",{className:this.state.cEmailError?"modal__input modal__input--error":"modal__input",type:"text",name:"cEmail",value:this.state.cEmail,placeholder:"Confirm email",onChange:this.fieldChange}),o.a.createElement("div",{className:this.state.sending?"modal__submit modal__submit--sending":"modal__submit",onClick:this.submit},this.state.sending?"Sending":"Send"),this.state.error&&o.a.createElement("div",{className:"modal__error"},this.state.error))))}}]),t}();t.default=d}}]);